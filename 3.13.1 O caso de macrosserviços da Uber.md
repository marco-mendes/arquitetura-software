### ğŸ”¬ TÃ­tulo do Caso:

**Quando Dividir Demais Prejudica: A Jornada de uma Equipe da Uber dos MicrosserviÃ§os aos MacroserviÃ§os**

---

### ğŸ” Contexto:

No auge da adoÃ§Ã£o de microsserviÃ§os, a Uber operava com mais de 4.000 microsserviÃ§os em produÃ§Ã£o, cada um responsÃ¡vel por uma funcionalidade especÃ­fica. Essa abordagem visava escalabilidade e autonomia entre equipes. No entanto, a complexidade crescente comeÃ§ou a impactar a produtividade e a capacidade de evoluÃ§Ã£o rÃ¡pida dos sistemas.

Segundo Gergely Orosz, ex-gerente de engenharia da Uber, a realidade era que muitos microsserviÃ§os nÃ£o se comportavam como elementos autÃ´nomos. "Era preciso alterar trÃªs ou quatro microsserviÃ§os para implementar uma Ãºnica funcionalidade simples. Isso criava uma enorme fricÃ§Ã£o para entregar valor" â€” destacou ele em entrevista. A promessa de independÃªncia virou um emaranhado de dependÃªncias complexas e interdependÃªncias nÃ£o planejadas.

---

### âŒ Problema:

A fragmentaÃ§Ã£o extrema dos sistemas afetava diretamente a manutenÃ§Ã£o e operaÃ§Ã£o do software:

* âŒ **ManutenÃ§Ã£o DifÃ­cil**: Requisitos comuns eram espalhados por serviÃ§os diferentes. Um erro de lÃ³gica ou uma atualizaÃ§Ã£o em um contrato de API podia provocar falhas em cadeia.

* âŒ **OrquestraÃ§Ã£o Complexa**: A entrega de uma feature exigia mÃºltiplas mudanÃ§as coordenadas, cada uma com seu ciclo de vida, testes, revisÃ£o e pipeline. O tempo entre PR e produÃ§Ã£o aumentava.

* âŒ **LatÃªncia Acumulada**: Diversas chamadas remotas entre microsserviÃ§os que rodavam em containers distintos geravam atrasos significativos, mesmo para operaÃ§Ãµes pequenas.

* âŒ **Carga Operacional**: Cada serviÃ§o exigia monitoraÃ§Ã£o, logging, deploy e documentaÃ§Ã£o separados. O nÃºmero de problemas nÃ£o resolvidos acumulava-se.

---

### ğŸŒŸ Iniciativa:

Diante desse cenÃ¡rio, uma das equipes decidiu desafiar o modelo dominante e propÃ´s a migraÃ§Ã£o de vÃ¡rios microsserviÃ§os interdependentes para um **macroserviÃ§o consolidado**.

Gergely relata que a ideia nÃ£o era voltar ao monolito tradicional, mas sim consolidar partes do sistema que claramente evoluÃ­am juntas, compartilhavam contexto e eram mantidas pelo mesmo time. "Identificamos um grupo de serviÃ§os que exigiam deploys conjuntos com tanta frequÃªncia que se tornavam, na prÃ¡tica, um sistema acoplado. EntÃ£o assumimos isso de forma explÃ­cita", afirma ele.

---

### âš™ï¸ ExecuÃ§Ã£o:

A equipe iniciou uma fase de mapeamento dos serviÃ§os que eram altamente coevolutivos: serviÃ§os de promoÃ§Ã£o, precificaÃ§Ã£o, e controle de entregas locais. Muitos deles se comunicavam com APIs internas em mais de 20 pontos diferentes.

Esses serviÃ§os foram integrados em um Ãºnico macroserviÃ§o, com boundaries internos bem definidos via mÃ³dulos e camadas lÃ³gicas. Foi adotada uma estrutura com separaÃ§Ã£o de domÃ­nio, mas com compartilhamento de sessÃ£o de banco e de cache, bem como testes unitÃ¡rios e de contrato com maior cobertura.

Em vez de dezenas de pequenos containers, o macroserviÃ§o passou a rodar como uma aplicaÃ§Ã£o escalÃ¡vel horizontalmente, em instÃ¢ncias de Kubernetes, mas sem as dores de coordenaÃ§Ã£o anteriores.

---

### âœ… Resultados:

O impacto da nova abordagem foi positivo em vÃ¡rios aspectos:

* ğŸ”„ **Menos ImplantaÃ§Ãµes Coordenadas**: Deploys eram centralizados, reduzindo risco e complexidade.

* ğŸ“Š **Melhoria de Desempenho**: A latÃªncia caiu entre 30-50% em diversos endpoints.

* âŒ›ï¸ **Velocidade de Entrega**: Features passaram a ser entregues 20-30% mais rÃ¡pido segundo mÃ©tricas de lead time internas.

* ğŸ¤ **Engajamento de Time**: Desenvolvedores relataram maior compreensÃ£o do sistema como um todo e maior sentimento de propriedade.

---

### ğŸ§  LiÃ§Ãµes Aprendidas:

Gergely Orosz ressalta: "MicrosserviÃ§os nÃ£o sÃ£o objetivos em si. SÃ£o ferramentas. E como toda ferramenta, podem ser mal aplicadas".

A arquitetura de macroserviÃ§os adotada por esse time nÃ£o foi uma volta ao passado, mas sim um passo consciente rumo a um modelo mais produtivo e sustentÃ¡vel. Ao respeitar os limites de contexto, minimizar dependÃªncias frÃ¡geis e permitir que uma equipe tenha controle de ponta a ponta sobre sua soluÃ§Ã£o, os macroserviÃ§os mostraram-se uma evoluÃ§Ã£o coerente, e nÃ£o um retrocesso.

Esse caso desafia o pensamento binÃ¡rio entre monolitos e microsserviÃ§os, propondo uma abordagem intermediÃ¡ria, realista e voltada Ã  entrega de valor contÃ­nuo.

*Fonte do caso:*  [One Team at Uber is Moving from Microservices to Macroservices](https://highscalability.com/one-team-at-uber-is-moving-from-microservices-to-macroservic/)

